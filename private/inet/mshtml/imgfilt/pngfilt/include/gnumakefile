# -*-makefile-*-  Makefile mode for Emacs

# Disable clearcase parallele makefiles.
.NOTPARALLEL:

PRODUCT = NONE
VOBS=/vobs
CUSTOM_RULES = ${VOBS}/ie4/trident.template

## COMPILE_OPTION can have the values: debug, optimized
COMPILE_OPTION = debug

MAINWIN_LIBS_ONLY=

SOURCES= \
    pngfilt.idl

NTTARGETFILE0= \
    pngfilt.h

TARGETSRCS = $(NTTARGETFILE0)

__cplusplus = true

include $(MWHOME)/make.rules.simple

###########################################################################

## Tools ##

MIDL := midl

# Disable dependency on generating tool and command line for generated headers.
.NO_CMP_NON_MF_DEPS: all
all: ${O} ${TARGETSRCS}

###########################################################################
#
# Implicit rules
#

# This rule cannot take any actions, not even an ECHO!  Otherwise the config records
# generated by midl will get trashed.

%.h: %.idl
	${ECHOSOURCE}
	${MIDL} -I${SDK_DIR} $< -dlldata /dev/null \
				-h $*.h \
			        -iid $*.ic \
                                /out $(O) \

